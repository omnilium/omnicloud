apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
    name: roundcube
    namespace: roundcube
spec:
    interval: 10m0s
    chart:
        spec:
            chart: roundcube
            version: '>=1.11.1 <1.12.0'
            sourceRef:
                kind: HelmRepository
                name: roundcube
                namespace: roundcube
            interval: 1m
    values:
        config:
            skins:
                larry:
                    enabled: true
            plugins:
                managesieve:
                    enabled: true
                contextmenu:
                    enabled: true
            uploadMaxFilesize: 100M
        externalDatabase:
            host: postgres-postgresql.roundcube.svc.cluster.local
            user: roundcube
            password: ENC[AES256_GCM,data:GM9qqH1dOxcEAYfj0KTgt2YALdW1n5qTLfjwlTz8vcI=,iv:3Jxy0wB3P1ERXz2zyCRj6rzdJ8qahrbfR2tVi5S8krk=,tag:UPP31DxEAX9rB9or13aEHQ==,type:str]
        imap:
            host: mail.omnilium.cloud
        smtp:
            host: mail.omnilium.cloud
        deployment:
            replicas: 3
            port: 8080
        ingress:
            host: webmail.omni.ms
            class: traefik
            tls:
                secretName: roundcube-tls
            additionalAnnotations:
                cert-manager.io/cluster-issuer: acme
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2024-04-10T18:48:25Z"
    mac: ENC[AES256_GCM,data:76F2LkJ6dDlER1EgqCuNCggPfthygXf4wqOOAJgNLCMc1D2xHI07CK9RVvjdObEBSBC/IdpGEWKoP3yzYGg3KkDxuMo3b+ayo3s5k8bBa1zkixM4V3/dpt1qDm5NgATriAQ1qnmPTotgmQsE7T47D31CUTyCQMPsT2MC7z67NTg=,iv:pjPougytFTN+Nm94Gr3Addr1r1cPQocNcmf/BzkT8H4=,tag:FlPvnWPZ/x4P1uDvKg4Hyg==,type:str]
    pgp:
        - created_at: "2024-04-10T18:48:25Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hJ4D0dRkdsWQFPUSAwMEOqCHVawS0/0rk77Rvo4NWX/Y4rtExYchyht0MjERB98j
            4VN89Ziykt7+ZyQ66J1jqRmyHiACYJ7Y01tRnou9Enau2zhICVwANaP2sFOCP4xo
            y6hYIDJdGlC8BpVwkfmqMJAI67RM8sf2mEhdQwSBHzUPKsN0gmqu/wqC6VW2F0mR
            4nDS2Kaqui912wNVLZJpw9RoAQkCEG0hCQvigkoorfOEAT6kVPisLvS1P+DM1pbN
            jbA1ZeHbwwt0b4KPQq9cF/B1cUwL0C9Koc3Gl9OeOkI1vCXURPbABeIMo26zjStV
            //RAMjl4Vue2C48rjgxOn0W1Qy/4sBRWsng=
            =9b2U
            -----END PGP MESSAGE-----
          fp: 0F003E832B1DA1A11CA9F206712F90FA248BBBC2
        - created_at: "2024-04-10T18:48:25Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hJ4DLG005yzvDc8SAwMEwU6SqxHEcX6nOc4htl7XuCN6tqieBguvvjwQriieQoqU
            7B+nMXlGh1VNXmuQKup8vBH9N/FeCzkaLOw3S5YU8LPXO1faYBz6XprH2WfnF7dA
            PtLCDhairI+WR6vAo4cvMFYAH1P5s0+B89P3xGb3IarKP5FwKH0WZ307Kd5G64y0
            fj2OT5EV/zYYW8fR1PxKI9RoAQkCEPzy025McEjNfwrgCwTwYg+UI2YrzaugQfBJ
            om3tAhy4fk0BCruTDVx7zQHKZxnBtr6rUYn/MypdphmulHClwu5JdEbMKFFeIwi4
            cb6079ZdB3toNuddWRrrsKaLzEm0/xbCsq8=
            =ExpV
            -----END PGP MESSAGE-----
          fp: 1918B94484C52CDE42CA1B87E7812096B8DA4A52
    encrypted_regex: ^(data|stringData|password)$
    version: 3.8.1
